<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Simple Solution to Recover Binary Tree - Kamalâ€™s Blog</title>
<meta name="description" content="This is a simple iterative solution to Recover Binary Tree Problem given on Leetcode and GeeksForGeeks">


  <meta name="author" content="Kamal Awasthi">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Kamal's Blog">
<meta property="og:title" content="Simple Solution to Recover Binary Tree">
<meta property="og:url" content="http://localhost:4000/algorithms/Simple-Solution-Recover-Binary-Tree/">


  <meta property="og:description" content="This is a simple iterative solution to Recover Binary Tree Problem given on Leetcode and GeeksForGeeks">





  <meta name="twitter:site" content="@kamalawasthi19">
  <meta name="twitter:title" content="Simple Solution to Recover Binary Tree">
  <meta name="twitter:description" content="This is a simple iterative solution to Recover Binary Tree Problem given on Leetcode and GeeksForGeeks">
  <meta name="twitter:url" content="http://localhost:4000/algorithms/Simple-Solution-Recover-Binary-Tree/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2020-08-23T00:00:00+05:30">



  <meta property="article:modified_time" content="2020-08-23T00:00:00+05:30">



  

  


<link rel="canonical" href="http://localhost:4000/algorithms/Simple-Solution-Recover-Binary-Tree/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Kamal Awasthi",
      "url": "http://localhost:4000/",
      "sameAs": ["https://twitter.com/kamalawasthi19","https://github.com/KamalAwasthi","https://www.instagram.com/inklinks_of_my_heart/"]
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Kamal's Blog Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>
  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/logo.webp" alt=""></a>
        
        <a class="site-title" href="/">
          Beyond Me & My Mind
          <span class="site-subtitle">Here and Now Life</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/now/">Now</a>
            </li><li class="masthead__menu-item">
              <a href="/projects/">Projects</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Blog Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/contact/">Contact Me</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero--overlay"
  style="background-color: #333; background-image: url('');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Simple Solution to Recover Binary Tree

        
      </h1>
      
        <p class="page__lead">This is a simple iterative solution to Recover Binary Tree Problem given on Leetcode and GeeksForGeeks
</p>
      
      


  <p class="page__meta">

    
      
      <i class="far fa-calendar-alt" aria-hidden="true"></i>
      <time datetime="2020-08-23T00:00:00+05:30">August 23, 2020</time>
    

    
      
      <span class="post__meta-sep"></span>
      
    

    
      
      

      <i class="far fa-clock" aria-hidden="true"></i>
      
        2 minute read
      
    

  </p>

      
      
    </div>
  
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#algorithms" itemprop="item"><span itemprop="name">Algorithms</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Simple Solution to Recover Binary Tree</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/bio_photo.webp" alt="Kamal Awasthi" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Kamal Awasthi</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I am in eternal love with Poetry, Philosophies &amp; Coding. Read my poems @<a href="https://inklinks.me/">inklins.me</a>. To read more about me head to <strong><a href="/about">About</a></strong> section.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">India</span>
        </li>
      

      
        
          
            <li><a href="mailto:kamalawasthi97@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://kamalawasthi.in" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://twitter.com/kamalawasthi19" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
        
          
            <li><a href="https://github.com/KamalAwasthi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/inklinks_of_my_heart/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:kamalawasthi97@gmail.com">
            <meta itemprop="email" content="kamalawasthi97@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Simple Solution to Recover Binary Tree">
    <meta itemprop="description" content="This is a simple iterative solution to Recover Binary Tree Problem given on Leetcode and GeeksForGeeks">
    <meta itemprop="datePublished" content="2020-08-23T00:00:00+05:30">
    <meta itemprop="dateModified" content="2020-08-23T00:00:00+05:30">

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
        <p>This is a simple iterative solution using one Stack to Recover Binary Tree Problem given on Leetcode(<a href="https://leetcode.com/problems/recover-binary-search-tree/" target="_blank">Link</a>) &amp; GeeksForGeeks(<a href="https://www.geeksforgeeks.org/fix-two-swapped-nodes-of-bst/" target="_blank">Link</a>)</p>

<blockquote>
  <p>Problem Statement: Two elements of a binary search tree (BST) are swapped by mistake. Recover the tree without changing its structure. Category: <a href="#link" class="btn btn--danger btn--small">Hard</a></p>
</blockquote>

<p>We start by checking for root. If root is <code>NULL</code> we return <code>NULL</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if(!root)
    return;

</code></pre></div></div>

<p>if root is not <code>NULL</code>. We start reading the tree in Inorder manner but before that we declare some variables we will need to do our work during the traversal.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>stack&lt;TreeNode*&gt; s;
TreeNode* prev=NULL;
TreeNode* first=NULL;
TreeNode* second=NULL;
TreeNode* t=NULL;
</code></pre></div></div>
<p>*prev pointer is actually to store the previous node value we encounter before the current node. *first is to store the first misplaced value in the tree. Similarly, *second pointer stores the second misplaced value.</p>

<p>Now we start our loop with inorder traversal. We will use the exact same approach we use for iterative inorder traversal of a binary tree. If you are not familiar with this approach you can look up <a href="#link" target="_blank">here</a>. Have a look at the code and then we will discuss what we are actaully doing there.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        while(1){
            while(root){
                s.push(root);
                root=root-&gt;left;
            }
            if(s.empty())
                break;
            root=s.top();
            s.pop(); //pop the element
            if(prev==NULL)
                prev=root;
            else{
                if(prev-&gt;val&gt;root-&gt;val &amp;&amp; flag==0){
                    first=prev;
                    t=root;
                    flag=1;
                }
                else{ 
                    if(flag==1 &amp;&amp; prev-&gt;val&gt;root-&gt;val){
                        second=root;
                        break;
                    }
                }
                prev=root;
            }
            root=root-&gt;right;
        }

        if(first &amp;&amp; second){
            int temp=first-&gt;val;
            first-&gt;val=second-&gt;val;
            second-&gt;val=temp;
        }
        else{
            second=t;
            int temp=first-&gt;val;
            first-&gt;val=second-&gt;val;
            second-&gt;val=temp;
        }
</code></pre></div></div>

<p>Okay so lets discuss what we actually did above. If you are really familiar with the iterative approach of inorder traversal, you must have noticed that the loop is reading the tree in inorder manner. While going in inorder way, we are first initializing the <code>*prev</code> by <code>*root</code> as the first node we will ever encounter will be root. At that moment <code>*prev</code> will be <code>NULL</code> hence we will just update its value to <code>*root</code> and will not do anything else.</p>

<p>After that, now we have <code>*root</code> in <code>*prev</code>, now we start looking for first value which is mis placed. as the inorder traversal always gives sorted order of values in tree, we know our <code>*first</code> will be the first value we encounter as,</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prev-&gt;val &gt; root-&gt;val
</code></pre></div></div>
<p>This is because everytime <code>*prev</code> is getting updated to <code>*root</code> (try it with some exaple on paper) till we do not find both misplaced elements.  <code>flag==0</code> signifies that we have not yet encountered the first value hence also not the second value. Now when we will make <code>flag=1</code> which will help us in tracking the second value which is misplaced. As we know that this time when we have to find the second value, it will be found when we encounter:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prev-&gt;val&gt;root-&gt;val
</code></pre></div></div>
<p>This will work because now <code>*prev</code> will have the value which is on left on second value, as second value is misplaced it will obviously be smaller ans should have been less than prev.</p>

<p>Now After completing the loop, two cases arise.</p>

<ul>
  <li>First is when both misplaced elements are just adjacent to each other in inorder traversal:
    <ul>
      <li>In this case, we will not able to capture the second element as it will always be less than its right.</li>
      <li>For this case, we simply store the root value int an extra variable t and assign t to second if we find the vaalue of <code>*second</code> to be NULL even after completion of while loop.</li>
    </ul>
  </li>
  <li>We find both the elemnts in loop only
  -then we simply swap their values.</li>
</ul>

<blockquote>
  <p>Happy Coding.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#algo" class="page__taxonomy-item" rel="tag">Algo</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#ds" class="page__taxonomy-item" rel="tag">DS</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#stl" class="page__taxonomy-item" rel="tag">STL</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#trees" class="page__taxonomy-item" rel="tag">Trees</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#algorithms" class="page__taxonomy-item" rel="tag">Algorithms</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-08-23">August 23, 2020</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=kamalawasthi19&text=Simple+Solution+to+Recover+Binary+Tree%20http%3A%2F%2Flocalhost%3A4000%2Falgorithms%2FSimple-Solution-Recover-Binary-Tree%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Falgorithms%2FSimple-Solution-Recover-Binary-Tree%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Falgorithms%2FSimple-Solution-Recover-Binary-Tree%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/life%20style/What-do-I-Know-About-Emotional-Intelligence-But-You-Dont/" class="pagination--pager" title="What do I know about Emotional Intelligence but you dont
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

  
  
    <div class="page__related" style="width: auto;">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/teaser.webp" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/life%20style/What-do-I-Know-About-Emotional-Intelligence-But-You-Dont/" rel="permalink">What do I know about Emotional Intelligence but you dont
</a>
      
    </h2>
    


  <p class="page__meta">

    
      
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      <time datetime="2017-07-06T00:00:00+05:30">July 6, 2017</time>
    

    
      
        <br \>
      
    

    
      
      

      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        4 minute read
      
    

  </p>

    <p class="archive__item-excerpt" itemprop="description">Emotional Intelligence matters more than IQ,in most of the situations in Life.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/teaser.webp" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/guides/A-Three-Step-Guide-to-Time-Management/" rel="permalink">3 Step Guide to Time Managament
</a>
      
    </h2>
    


  <p class="page__meta">

    
      
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      <time datetime="2017-07-06T00:00:00+05:30">July 6, 2017</time>
    

    
      
        <br \>
      
    

    
      
      

      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        1 minute read
      
    

  </p>

    <p class="archive__item-excerpt" itemprop="description">Time Management is the greatest skill anyone can learn.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/teaser.webp" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/life-style/why-do-I-think-I-should-write/" rel="permalink">Why do I think I should write
</a>
      
    </h2>
    


  <p class="page__meta">

    
      
      <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
      <time datetime="2017-07-06T00:00:00+05:30">July 6, 2017</time>
    

    
      
        <br \>
      
    

    
      
      

      <i class="far fa-fw fa-clock" aria-hidden="true"></i>
      
        2 minute read
      
    

  </p>

    <p class="archive__item-excerpt" itemprop="description">Everyone has to start seomwhere. Everyone has something to tell. Listen &amp; Learn
</p>
  </article>
</div>

        
      </div>
    </div>
  
  




    
  </article>
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/kamalawasthi19" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/KamalAwasthi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
          <li><a href="https://www.instagram.com/inklinks_of_my_heart/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Kamal Awasthi.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/algorithms/Simple-Solution-Recover-Binary-Tree/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/algorithms/Simple-Solution-Recover-Binary-Tree"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://commentsatmyblog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  




  </body>
</html>
